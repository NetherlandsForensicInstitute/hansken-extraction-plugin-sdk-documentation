<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (21) on Wed Mar 12 11:52:08 CET 2025 -->
<title>Trace (api 0.9.6-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-03-12">
<meta name="description" content="declaration: package: org.hansken.plugin.extraction.api, interface: Trace">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Trace.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.hansken.plugin.extraction.api</a></div>
<h1 title="Interface Trace" class="title">Interface Trace</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="ImmutableTrace.html" title="interface in org.hansken.plugin.extraction.api">ImmutableTrace</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">Trace</span><span class="extends-implements">
extends <a href="ImmutableTrace.html" title="interface in org.hansken.plugin.extraction.api">ImmutableTrace</a></span></div>
<div class="block">A trace contains information about processed data. A trace should conform to the trace model defined by Hansken.
 <p>
 A trace can have multiple types (e.g. file or chat). For these types, the trace can contain a set of properties and
 associated values. A trace can be associated with a set of <a href="RandomAccessData.html" title="interface in org.hansken.plugin.extraction.api"><code>data sequences</code></a>.
 During extraction, an <a href="ExtractionPlugin.html" title="interface in org.hansken.plugin.extraction.api"><code>extraction plugin</code></a> may receive a currently processed trace
 and accompanying data sequence.
 <p>
 Implementers of a plugin should ensure that setting a property on a trace is valid as per the trace model
 which is defined for the traces generated by the plugin.
 <p>
 <strong>Note:</strong> implementations are not required to implement any kind of thread safety.
 It is up to the client to ensure this if necessary.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="ExtractionPlugin.html#process(org.hansken.plugin.extraction.api.Trace,org.hansken.plugin.extraction.api.DataContext)"><code>ExtractionPlugin.process(Trace, DataContext)</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Trace.Tracelet.html" class="type-name-link" title="class in org.hansken.plugin.extraction.api">Trace.Tracelet</a></code></div>
<div class="col-last even-row-color">
<div class="block">a Tracelet represents tracedata that can be present multiple times within a trace.</div>
</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="Trace.TraceletBuilder.html" class="type-name-link" title="interface in org.hansken.plugin.extraction.api">Trace.TraceletBuilder</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Trace.TraceletProperty.html" class="type-name-link" title="class in org.hansken.plugin.extraction.api">Trace.TraceletProperty</a></code></div>
<div class="col-last even-row-color">
<div class="block">a TraceletProperty is a property of a Tracelet.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#addTracelet(java.lang.String,java.util.function.Consumer)" class="member-name-link">addTracelet</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;type,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;<a href="Trace.TraceletBuilder.html" title="interface in org.hansken.plugin.extraction.api">Trace.TraceletBuilder</a>&gt;&nbsp;callback)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Add a tracelet to the trace.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6"><code><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6"><code><a href="#addTracelet(org.hansken.plugin.extraction.api.Trace.Tracelet)" class="member-name-link">addTracelet</a><wbr>(<a href="Trace.Tracelet.html" title="class in org.hansken.plugin.extraction.api">Trace.Tracelet</a>&nbsp;tracelet)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">use <code>addTracelet(type, callback)</code></div>
</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addType(java.lang.String)" class="member-name-link">addType</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;type)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Add a type to this trace (for example: <code>"file"</code>).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#newChild(java.lang.String,org.hansken.plugin.extraction.util.ThrowingConsumer)" class="member-name-link">newChild</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="../util/ThrowingConsumer.html" title="interface in org.hansken.plugin.extraction.util">ThrowingConsumer</a>&lt;<a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>&gt;&nbsp;enrichChildCallback)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create and store new child <a href="Trace.html" title="interface in org.hansken.plugin.extraction.api"><code>trace</code></a> of this trace.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#set(java.lang.String,java.lang.Object)" class="member-name-link">set</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Set a property on this trace with a given <code>value</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#setData(java.lang.String,java.io.InputStream)" class="member-name-link">setData</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dataType,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a>&nbsp;stream)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Add a data stream of a given type to this <a href="Trace.html" title="interface in org.hansken.plugin.extraction.api"><code>Trace</code></a> (for example, <code>'raw'</code> or <code>'html'</code>).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setData(java.lang.String,java.util.List)" class="member-name-link">setData</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dataType,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="transformations/DataTransformation.html" title="interface in org.hansken.plugin.extraction.api.transformations">DataTransformation</a>&gt;&nbsp;transformation)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Set a series of data transformations for a specific dataType.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setData(java.lang.String,org.hansken.plugin.extraction.api.DataWriter)" class="member-name-link">setData</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dataType,
 <a href="DataWriter.html" title="interface in org.hansken.plugin.extraction.api">DataWriter</a>&nbsp;writer)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Add a data stream of a given type to this <a href="Trace.html" title="interface in org.hansken.plugin.extraction.api"><code>Trace</code></a> (for example, <code>'raw'</code> or <code>'html'</code>).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#setData(java.lang.String,org.hansken.plugin.extraction.api.transformations.DataTransformation...)" class="member-name-link">setData</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dataType,
 <a href="transformations/DataTransformation.html" title="interface in org.hansken.plugin.extraction.api.transformations">DataTransformation</a>...&nbsp;transformations)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Set a series of data transformations for a specific dataType.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.hansken.plugin.extraction.api.ImmutableTrace">Methods inherited from interface&nbsp;org.hansken.plugin.extraction.api.<a href="ImmutableTrace.html" title="interface in org.hansken.plugin.extraction.api">ImmutableTrace</a></h3>
<code><a href="ImmutableTrace.html#get(java.lang.String)">get</a>, <a href="ImmutableTrace.html#properties()">properties</a>, <a href="ImmutableTrace.html#traceId()">traceId</a>, <a href="ImmutableTrace.html#types()">types</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="addType(java.lang.String)">
<h3>addType</h3>
<div class="member-signature"><span class="return-type"><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></span>&nbsp;<span class="element-name">addType</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;type)</span></div>
<div class="block">Add a type to this trace (for example: <code>"file"</code>). If this trace already had given type,
 nothing changes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>type</code> - the type to add</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="set(java.lang.String,java.lang.Object)">
<h3>set</h3>
<div class="member-signature"><span class="return-type"><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></span>&nbsp;<span class="element-name">set</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value)</span></div>
<div class="block">Set a property on this trace with a given <code>value</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - the name of the property to set</dd>
<dd><code>value</code> - the value of the property</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the property or value of the property is invalid as per the trace model</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addTracelet(java.lang.String,java.util.function.Consumer)">
<h3>addTracelet</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></span>&nbsp;<span class="element-name">addTracelet</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;type,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;<a href="Trace.TraceletBuilder.html" title="interface in org.hansken.plugin.extraction.api">Trace.TraceletBuilder</a>&gt;&nbsp;callback)</span></div>
<div class="block">Add a tracelet to the trace.
 <p>
 Example usage:
 <pre><code>
     trace.addTracelet("prediction", tracelet -&gt; tracelet
         .set("type", "type")
         .set("model", "model")
         .set("label", "label")
         .set("confidence", .50));
     </code>);
 }</pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>type</code> - the type of tracelet to add</dd>
<dd><code>callback</code> - callback to set the tracelet properties</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addTracelet(org.hansken.plugin.extraction.api.Trace.Tracelet)">
<h3>addTracelet</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="return-type"><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></span>&nbsp;<span class="element-name">addTracelet</span><wbr><span class="parameters">(<a href="Trace.Tracelet.html" title="class in org.hansken.plugin.extraction.api">Trace.Tracelet</a>&nbsp;tracelet)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">use <code>addTracelet(type, callback)</code></div>
</div>
<div class="block">Add a tracelet to the trace.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tracelet</code> - the name and properties of the Tracelet</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setData(java.lang.String,org.hansken.plugin.extraction.api.DataWriter)">
<h3>setData</h3>
<div class="member-signature"><span class="return-type"><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></span>&nbsp;<span class="element-name">setData</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dataType,
 <a href="DataWriter.html" title="interface in org.hansken.plugin.extraction.api">DataWriter</a>&nbsp;writer)</span>
       throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Add a data stream of a given type to this <a href="Trace.html" title="interface in org.hansken.plugin.extraction.api"><code>Trace</code></a> (for example, <code>'raw'</code> or <code>'html'</code>).
 A trace can only have a single data stream for each data type. A callback function can be passed
 which receives an <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html" title="class or interface in java.io" class="external-link"><code>OutputStream</code></a> to write the data to.
 <p>
 <strong>Note:</strong> the received output stream should <i>not</i> be closed by the user. It should
 also only be used within the scope of the callback, other usage may be guarded against or otherwise
 result in undefined behaviour.
 <p>
 Example usage:
 <pre><code>
     final PacketSequencer sequencer = ...;
     final RandomAccessData input = dataContext.data();

     trace.setData("packets", data -&gt; {
         sequencer.process(input).forEach(packet -&gt; {
             data.write(packet);
         });
     });
 </code></pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dataType</code> - the type of the data stream to add</dd>
<dd><code>writer</code> - callback that receives the stream to write to as input</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if this trace already had an associated data stream of given type</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - when the given callback throws one</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setData(java.lang.String,org.hansken.plugin.extraction.api.transformations.DataTransformation...)">
<h3>setData</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></span>&nbsp;<span class="element-name">setData</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dataType,
 <a href="transformations/DataTransformation.html" title="interface in org.hansken.plugin.extraction.api.transformations">DataTransformation</a>...&nbsp;transformations)</span></div>
<div class="block">Set a series of data transformations for a specific dataType.

 Transformations are pointers to actual raw data. They describe how data can be obtained by reading on certain
 positions, using decryption, or combinations of these. The benefit of using Transformations is that they take up
 less space than the actual data.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dataType</code> - the type of the datastream</dd>
<dd><code>transformations</code> - the data transformations</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setData(java.lang.String,java.util.List)">
<h3>setData</h3>
<div class="member-signature"><span class="return-type"><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></span>&nbsp;<span class="element-name">setData</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dataType,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="transformations/DataTransformation.html" title="interface in org.hansken.plugin.extraction.api.transformations">DataTransformation</a>&gt;&nbsp;transformation)</span></div>
<div class="block">Set a series of data transformations for a specific dataType.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dataType</code> - the type of the datastream</dd>
<dd><code>transformation</code> - the data transformations</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setData(java.lang.String,java.io.InputStream)">
<h3>setData</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></span>&nbsp;<span class="element-name">setData</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dataType,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a>&nbsp;stream)</span>
               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Add a data stream of a given type to this <a href="Trace.html" title="interface in org.hansken.plugin.extraction.api"><code>Trace</code></a> (for example, <code>'raw'</code> or <code>'html'</code>).
 A trace can only have a single data stream for each data type.
 <p>
 The given <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link"><code>InputStream</code></a> will not be closed by this method.
 <p>
 Example usage:
 <pre><code>
     final ThumbnailDetector detector = ...;
     final RandomAccessData input = dataContext.data();
     final InputStream thumbnails = detector.detect(input);
     trace.setData("preview", thumbnails);
 </code></pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dataType</code> - the type of the data stream to add</dd>
<dd><code>stream</code> - the data stream itself</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if this trace already had an associated data stream of given type</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - when an I/O error occurs while reading the input</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="newChild(java.lang.String,org.hansken.plugin.extraction.util.ThrowingConsumer)">
<h3>newChild</h3>
<div class="member-signature"><span class="return-type"><a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a></span>&nbsp;<span class="element-name">newChild</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="../util/ThrowingConsumer.html" title="interface in org.hansken.plugin.extraction.util">ThrowingConsumer</a>&lt;<a href="Trace.html" title="interface in org.hansken.plugin.extraction.api">Trace</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>&gt;&nbsp;enrichChildCallback)</span>
        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Create and store new child <a href="Trace.html" title="interface in org.hansken.plugin.extraction.api"><code>trace</code></a> of this trace. A callback function
 can be passed in order to enrich the created child trace (which will have no types
 or properties set yet), or even recursively add new children under it. After the
 trace goes out of scope of the callback, it can no longer be updated.
 <p>
 As an example, say we have a <code>Node</code> type with the following API
<pre><code>
   interface Node {
     String name();
     List&lt;Node&gt; children();
   }
</code></pre>
 A recursive function for creating traces from a node, where the initial node
 should be mapped to a single child under the trace being processed:
<pre><code>
     public void process(final Trace trace, final DataContext dataContext) {
         final Node node = createNode(); // get the node from somewhere
         createTree(node, trace);
     }

     void createTree(final Node childNode, final Trace parentTrace) {
         parentTrace.newChild(childNode.name(), child -&gt; {
             // set information from child node on child trace
             child.type("file").set("file.name", "password.txt");
             // recursively create more children
             childNode.children().forEach(node -&gt; {
                 createTree(node, child);
             });
         });
     }
 </code></pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - the name of the child</dd>
<dd><code>enrichChildCallback</code> - callback that gets the new child trace as input</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the trace was not yet saved</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - when the given callback throws one</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
